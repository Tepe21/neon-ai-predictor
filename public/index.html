<!DOCTYPE html>
<html lang="el">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>AI Football Picks</title>

<style>
:root{
  --green:#7CFFCB;
  --blue:#2bdcff;
  --dark:#04060c;
  --card:#0a1024;
}
body{
  margin:0;
  font-family:Inter,system-ui;
  background:
    radial-gradient(800px 400px at 20% -10%, rgba(124,255,203,.18), transparent),
    radial-gradient(700px 400px at 80% 10%, rgba(43,220,255,.18), transparent),
    linear-gradient(180deg,#02040a,#04060c 70%);
  color:#eafff7;
}
.wrap{max-width:1100px;margin:auto;padding:30px 20px;text-align:center}
.title{display:flex;justify-content:center;gap:14px;font-size:38px;font-weight:900}
.ball{filter:drop-shadow(0 0 8px var(--green))}
.title-text{background:linear-gradient(90deg,var(--green),var(--blue));-webkit-background-clip:text;color:transparent}
.subtitle{opacity:.7;font-size:14px}
.tabs{display:flex;justify-content:center;gap:14px;margin:30px 0}
.tab{padding:12px 22px;border-radius:18px;background:#081124;border:1px solid #1f5e78;color:var(--blue);cursor:pointer}
.tab.active{background:linear-gradient(135deg,var(--green),var(--blue));color:#002018}
.card{display:none;background:#081124;border-radius:22px;padding:22px;border:1px solid #1f5e78}
.card.active{display:block}
.row{display:flex;gap:12px;flex-wrap:wrap;margin-top:16px}
select,input{background:#04060c;color:#eafff7;border:1px solid var(--blue);border-radius:14px;padding:12px}
button{background:linear-gradient(135deg,var(--green),var(--blue));border:none;border-radius:16px;padding:12px 18px;font-weight:800;color:#002018;cursor:pointer}
.alert{margin-top:14px;padding:16px;border-radius:18px;border:1px solid var(--blue)}
.badge{padding:6px 14px;border-radius:999px;font-weight:800}
.pre{color:#7cffcb}
.normal{color:#2bdcff}
.high{color:#ffd000}
.bomb{color:#ff3b3b}
</style>
</head>

<body>
<div class="wrap">
  <div class="title"><span class="ball">⚽</span><span class="title-text">AI Football Picks</span></div>
  <div class="subtitle">Live Intelligence Engine</div>

  <div class="tabs">
    <div class="tab active" onclick="tab('search')">Search</div>
    <div class="tab" onclick="tab('live')">Live Alerts</div>
  </div>

  <div id="search" class="card active">
    <div class="row">
      <select id="mode">
        <option value="live">Live</option>
        <option value="upcoming">Upcoming</option>
      </select>
      <select id="market">
        <option value="goals">Goals</option>
        <option value="corners">Corners</option>
      </select>
      <input id="query" placeholder="Chelsea vs Real / Τσέλσι Ρεάλ">
      <button onclick="search()">Analyze</button>
    </div>
    <div id="result"></div>
  </div>

  <div id="live" class="card">
    <div id="alerts">Waiting for live value…</div>
  </div>
</div>

<script>
function tab(t){
  document.querySelectorAll('.tab').forEach(e=>e.classList.remove('active'));
  document.querySelectorAll('.card').forEach(e=>e.classList.remove('active'));
  if(t==='search'){document.querySelectorAll('.tab')[0].classList.add('active');searchEl.classList.add('active')}
  else{document.querySelectorAll('.tab')[1].classList.add('active');live.classList.add('active')}
}
const searchEl=document.getElementById('search');

async function search(){
  result.innerHTML='Searching…';
  const r=await fetch('/api/search',{method:'POST',headers:{'Content-Type':'application/json'},
    body:JSON.stringify({query:query.value,mode:mode.value,market:market.value})
  });
  const d=await r.json();
  if(d.multiple){
    result.innerHTML=d.options.map(o=>`<div>${o.label}</div>`).join('');
    return;
  }
  if(!d.market){result.innerHTML='No value found';return;}
  result.innerHTML=`
    <div class="alert">
      <strong>${d.match}</strong><br>
      ${d.market} @ ${d.odd}<br>
      <span class="badge ${d.level}">
        ${d.level==='pre'?'PRE-MATCH ANALYSIS':d.level.toUpperCase()} • ${d.confidence}%
      </span>
    </div>`;
}
</script>
</body>
</html>
